<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Transaction Handler Creation Logic"><title>clementine_core::builder::transaction::creator - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="clementine_core" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.1 (4eb161250 2025-03-15)" data-channel="1.85.1" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../clementine_core/index.html">clementine_<wbr>core</a><span class="version">0.3.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module creator</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#transaction-handler-creation-logic" title="Transaction Handler Creation Logic">Transaction Handler Creation Logic</a><ul><li><a href="#key-types" title="Key Types">Key Types</a></li><li><a href="#main-functions" title="Main Functions">Main Functions</a></li></ul></li></ul><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In clementine_<wbr>core::<wbr>builder::<wbr>transaction</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../../index.html">clementine_core</a>::<wbr><a href="../../index.html">builder</a>::<wbr><a href="../index.html">transaction</a></span><h1>Module <span>creator</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../src/clementine_core/builder/transaction/creator.rs.html#1-1452">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="transaction-handler-creation-logic"><a class="doc-anchor" href="#transaction-handler-creation-logic">ยง</a>Transaction Handler Creation Logic</h2>
<p>This module provides the logic for constructing, caching, and managing transaction handlers (<code>TxHandler</code>) for all transaction types in the Clementine bridge.</p>
<p>It is responsible for orchestrating the creation of all transaction flows for a given operator, round, and deposit, including collateral, kickoff, challenge, reimbursement, and assertion transactions. It also manages context and database-backed caching to support efficient and correct transaction construction.</p>
<h3 id="key-types"><a class="doc-anchor" href="#key-types">ยง</a>Key Types</h3>
<ul>
<li><a href="../struct.KickoffWinternitzKeys.html" title="struct clementine_core::builder::transaction::KickoffWinternitzKeys"><code>KickoffWinternitzKeys</code></a> - Helper for managing Winternitz keys for kickoff transactions, to retrieve the correct keys for a given round.</li>
<li><a href="../struct.ReimburseDbCache.html" title="struct clementine_core::builder::transaction::ReimburseDbCache"><code>ReimburseDbCache</code></a> - Retrieves and caches relevant data from the database for transaction handler creation.</li>
<li><a href="../struct.ContractContext.html" title="struct clementine_core::builder::transaction::ContractContext"><code>ContractContext</code></a> - Holds context for a specific operator, round, and optionally deposit, in short all the information needed to create the relevant transactions.</li>
<li><a href="../struct.TxHandlerCache.html" title="struct clementine_core::builder::transaction::TxHandlerCache"><code>TxHandlerCache</code></a> - Stores and manages cached transaction handlers for efficient flow construction. This is important during the deposit, as the functions create all transactions for a single operator, kickoff utxo, and deposit tuple, which has common transactions between them. (Mainly round tx and move to vault tx)</li>
</ul>
<h3 id="main-functions"><a class="doc-anchor" href="#main-functions">ยง</a>Main Functions</h3>
<ul>
<li><a href="../fn.create_txhandlers.html" title="fn clementine_core::builder::transaction::create_txhandlers"><code>create_txhandlers</code></a> - Orchestrates the creation of all required transaction handlers for a given context and transaction type.</li>
<li><a href="../fn.create_round_txhandlers.html" title="fn clementine_core::builder::transaction::create_round_txhandlers"><code>create_round_txhandlers</code></a> - Creates round and ready-to-reimburse transaction handlers for a specific operator and round.</li>
</ul>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ContractContext.html" title="struct clementine_core::builder::transaction::creator::ContractContext">Contract<wbr>Context</a></div><div class="desc docblock-short">Context for a single operator and round, and optionally a single deposit.
Data about deposit and kickoff idx is needed to create the deposit-related transactions.
For non deposit related transactions, like the round tx and ready to reimburse tx, the round idx is enough.</div></li><li><div class="item-name"><a class="struct" href="struct.KickoffWinternitzKeys.html" title="struct clementine_core::builder::transaction::creator::KickoffWinternitzKeys">Kickoff<wbr>Winternitz<wbr>Keys</a></div><div class="desc docblock-short">Helper struct to get specific kickoff winternitz keys for a sequential collateral tx</div></li><li><div class="item-name"><a class="struct" href="struct.ReimburseDbCache.html" title="struct clementine_core::builder::transaction::creator::ReimburseDbCache">Reimburse<wbr>DbCache</a></div><div class="desc docblock-short">Struct to retrieve and cache data from DB for creating TxHandlers on demand
It can only store information for one deposit and operator pair.
It has two context modes, for rounds or for deposits. Deposit context needs additional information, like the deposit outpoint, which is not needed for rounds.
Round context can only create transactions that do not depend on the deposit, like the round tx and ready to reimburse tx.
Deposit context can create all transactions.
Note: This cache is specific to a single operator, for each operator a new cache is needed.</div></li><li><div class="item-name"><a class="struct" href="struct.TxHandlerCache.html" title="struct clementine_core::builder::transaction::creator::TxHandlerCache">TxHandler<wbr>Cache</a></div><div class="desc docblock-short">Stores and manages cached transaction handlers for efficient flow construction.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">ยง</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.create_round_txhandlers.html" title="fn clementine_core::builder::transaction::creator::create_round_txhandlers">create_<wbr>round_<wbr>txhandlers</a></div><div class="desc docblock-short">Creates the round and ready-to-reimburse txhandlers for a specific operator and round index.
These transactions currently include round tx, ready to reimburse tx, and unspent kickoff txs.</div></li><li><div class="item-name"><a class="fn" href="fn.create_txhandlers.html" title="fn clementine_core::builder::transaction::creator::create_txhandlers">create_<wbr>txhandlers</a></div><div class="desc docblock-short">Creates all required transaction handlers for a given context and transaction type.</div></li><li><div class="item-name"><a class="fn" href="fn.get_txhandler.html" title="fn clementine_core::builder::transaction::creator::get_txhandler">get_<wbr>txhandler</a><span title="Restricted Visibility">&nbsp;๐</span> </div></li></ul></section></div></main></body></html>